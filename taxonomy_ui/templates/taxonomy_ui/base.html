<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Taxonomy Portal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    :root {
      /* ===== Backgrounds ===== */
      --bg-primary: #f2f1e6;     /* page background (soft neutral) */
      --bg-secondary: #e1ecef;  /* cards / header */
      --bg-tertiary: #eef1f4;   /* tables / hover */
      --bg-accent: #f1f5f9;     /* subtle highlights */

      /* ===== Text ===== */
      --text-primary: #1f2937;  /* headings */
      --text-secondary: #4b5563;
      --text-tertiary: #6b7280;

      /* ===== Borders ===== */
      --border-color: #e5e7eb;
      --border-light: #f3f4f6;

      /* ===== Accents (VERY SOFT) ===== */
      --accent-primary: #64748b;        /* slate */
      --accent-primary-hover: #475569;

      --accent-secondary: #3f7f6b;      /* muted green */
      --accent-secondary-hover: #2f6f5c;

      /* ===== Shadows ===== */
      --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
      --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.08);
      --shadow-lg: 0 10px 28px rgba(0, 0, 0, 0.12);

      /* ===== Subtle Mesh (VERY LIGHT) ===== */
      --gradient-mesh:
        radial-gradient(at 0% 0%, rgba(148, 163, 184, 0.08), transparent 50%),
        radial-gradient(at 100% 100%, rgba(163, 230, 53, 0.06), transparent 50%);
    }


    body.dark {
      /* ===== Backgrounds ===== */
      --bg-primary: #0f172a;
      --bg-secondary: #1e293b;
      --bg-tertiary: #273449;
      --bg-accent: #1e293b;

      /* ===== Text ===== */
      --text-primary: #e5e7eb;
      --text-secondary: #cbd5e1;
      --text-tertiary: #94a3b8;

      /* ===== Borders ===== */
      --border-color: #334155;
      --border-light: #475569;

      /* ===== Accents ===== */
      --accent-primary: #94a3b8;
      --accent-primary-hover: #cbd5e1;

      --accent-secondary: #6ee7b7;
      --accent-secondary-hover: #34d399;

      /* ===== Shadows ===== */
      --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.4);
      --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.5);
      --shadow-lg: 0 12px 32px rgba(0, 0, 0, 0.6);

      /* ===== Mesh ===== */
      --gradient-mesh:
        radial-gradient(at 0% 0%, rgba(148, 163, 184, 0.12), transparent 50%),
        radial-gradient(at 100% 100%, rgba(52, 211, 153, 0.1), transparent 50%);
    }


    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      background: var(--bg-primary);
      color: var(--text-secondary);
      transition: background 0.3s ease, color 0.3s ease;
      min-height: 100vh;
      position: relative;
    }

    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: var(--gradient-mesh);
      z-index: 0;
      pointer-events: none;
    }

    /* ================= HEADER ================= */
    header {
      background: var(--bg-secondary);
      padding: 20px 32px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid var(--border-color);
      box-shadow: var(--shadow-sm);
      position: sticky;
      top: 0;
      z-index: 100;
      backdrop-filter: blur(10px);
    }

    header h1 {
      font-size: 24px;
      font-weight: 700;
      color: var(--text-primary);
      letter-spacing: -0.5px;
    }

    nav {
      display: flex;
      align-items: center;
      gap: 24px;
    }

    nav a {
      color: var(--text-secondary);
      text-decoration: none;
      font-size: 15px;
      font-weight: 500;
      padding: 8px 16px;
      border-radius: 8px;
      transition: all 0.2s ease;
    }

    nav a:hover {
      color: var(--text-primary);
      background: var(--bg-tertiary);
    }


    #themeToggle {
      background: var(--bg-tertiary);
      color: var(--text-primary);
      border: 1px solid var(--border-color);
      padding: 10px 18px;
      border-radius: 10px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    #themeToggle:hover {
      background: var(--accent-primary);
      color: white;
      border-color: var(--accent-primary);
      transform: translateY(-1px);
    }

    /* ================= CONTENT ================= */
    .content-wrapper {
      max-width: 1400px;
      margin: 0 auto;
      padding: 40px 32px;
      position: relative;
      z-index: 1;
    }

    /* ================= MESSAGES ================= */
    .messages {
      max-width: 1400px;
      margin: 20px auto 0;
      padding: 0 32px;
      position: relative;
      z-index: 1;
    }

    .message {
      padding: 16px 20px;
      border-radius: 12px;
      margin-bottom: 12px;
      font-size: 15px;
      font-weight: 500;
      border: 1px solid;
      box-shadow: var(--shadow-sm);
    }

    .message.success {
      background: #ecfdf5;
      color: #065f46;
      border-color: #6ee7b7;
    }

    .message.error {
      background: #fef2f2;
      color: #991b1b;
      border-color: #fca5a5;
    }

    body.dark .message.success {
      background: #064e3b;
      color: #6ee7b7;
      border-color: #065f46;
    }

    body.dark .message.error {
      background: #7f1d1d;
      color: #fca5a5;
      border-color: #991b1b;
    }

    /* ================= RESPONSIVE ================= */
    @media (max-width: 768px) {
      .content-wrapper {
        padding: 24px 16px;
      }

      header {
        padding: 16px 20px;
        flex-wrap: wrap;
      }

      nav {
        gap: 12px;
        flex-wrap: wrap;
      }
    }
  </style>
</head>

<body>

  <!-- ================= HEADER ================= -->
  <header>
    <h1>üèõÔ∏è Taxonomy Portal</h1>

    <nav>
      <a href="{% url 'taxonomy_ui:part_list' %}">üìã View DB Parts</a>
      <a href="{% url 'taxonomy_ui:upload' %}">üì§ User Upload</a>
      <button id="themeToggle">
        <span id="themeIcon">üåô</span>
        <span id="themeText">Dark</span>
      </button>
    </nav>
  </header>

  <!-- ================= DJANGO MESSAGES ================= -->
  {% if messages %}
  <div class="messages">
    {% for message in messages %}
      <div class="message {{ message.tags }}">
        {{ message }}
      </div>
    {% endfor %}
  </div>
  {% endif %}

  <!-- ================= CONTENT ================= -->
  <div class="content-wrapper">
    {% block content %}{% endblock %}
  </div>

  <!-- ================= DARK MODE SCRIPT ================= -->
  <script>
    const toggle = document.getElementById("themeToggle");
    const body = document.body;
    const themeIcon = document.getElementById("themeIcon");
    const themeText = document.getElementById("themeText");

    if (localStorage.getItem("theme") === "dark") {
      body.classList.add("dark");
      themeIcon.textContent = "‚òÄÔ∏è";
      themeText.textContent = "Light";
    }

    toggle.onclick = () => {
      body.classList.toggle("dark");
      const isDark = body.classList.contains("dark");
      themeIcon.textContent = isDark ? "‚òÄÔ∏è" : "üåô";
      themeText.textContent = isDark ? "Light" : "Dark";
      localStorage.setItem("theme", isDark ? "dark" : "light");
    };
  </script>

</body>
</html>